define("pages/security/user/edit/edit",function(e,r,a){"use strict";var n=e("api"),m=e("msg");a.exports=Vue.extend({template:'\r\n<div>\r\n    <!-- mainview -->\r\n    <mainview :title="isNew ? \'新建\': \'编辑\'">\r\n        <breadcrumb slot="breadcrumb">\r\n            <breadcrumb-item link="/" class="am-icon-home">首页</breadcrumb-item>\r\n            <breadcrumb-item>系统安全</breadcrumb-item>\r\n            <breadcrumb-item link="/security/user">用户管理</breadcrumb-item>\r\n            <breadcrumb-item>{{isNew ? \'新建\': \'编辑\'}}</breadcrumb-item>\r\n        </breadcrumb>\r\n\r\n        <!-- mainview-body -->\r\n        <template>\r\n            <am-panel title="用户信息">\r\n                <div class="am-g">\r\n                    <div class="am-u-md-10 am-u-md-offset-1">\r\n                        <form class="am-form am-form-horizontal">\r\n\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">用户名</label>\r\n                                </div>\r\n                                <div class="am-u-md-4 am-u-end">\r\n                                    <input type="text" v-model="username" class="am-input-sm" placeholder="用户名" :readonly="!!id">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">昵称</label>\r\n                                </div>\r\n                                <div class="am-u-md-4 am-u-end">\r\n                                    <input type="text" v-model="nickname" class="am-input-sm" placeholder="昵称">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">电子邮箱</label>\r\n                                </div>\r\n                                <div class="am-u-md-4 am-u-end">\r\n                                    <input type="text" v-model="email" class="am-input-sm" placeholder="电子邮箱">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">联系电话</label>\r\n                                </div>\r\n                                <div class="am-u-md-4 am-u-end">\r\n                                    <input type="text" v-model="tel" class="am-input-sm" placeholder="联系电话">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-10 am-u-md-offset-2">\r\n                                    <form-submit @submit="submit"></form-submit>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </am-panel>\r\n        </template><!--/ mainview-body -->\r\n    </mainview><!--/ mainview -->\r\n</div>\r\n',data:function(){return{id:null,username:null,nickname:null,email:null,tel:null}},methods:{submit:function(){var e=this;this.id?n.user.update({username:this.username,nickname:this.nickname,email:this.email,tel:this.tel}).then(function(){m.alert("保存成功","success",function(){e.$route.router.go("/security/user")})}):n.user.create({username:this.username,nickname:this.nickname,email:this.email,tel:this.tel}).then(function(){m.alert("保存成功","success",function(){e.$route.router.go("/security/user")})})}},route:{data:function(e){var r=this.$route.params.username;r&&n.user.get(r).then(function(r){var a=r.data;e.next({id:a.id,username:a.username,nickname:a.nickname,email:a.email,tel:a.tel})})}}})});