define("pages/security/user/list/list",function(t,n,a){"use strict";var r=t("api").user,e=t("msg");a.exports=Vue.extend({template:'\r\n<div>\r\n    <!-- mainview -->\r\n    <mainview title="用户管理">\r\n        <breadcrumb slot="breadcrumb">\r\n            <breadcrumb-item link="/" class="am-icon-home">首页</breadcrumb-item>\r\n            <breadcrumb-item>系统安全</breadcrumb-item>\r\n            <breadcrumb-item>用户管理</breadcrumb-item>\r\n        </breadcrumb>\r\n\r\n        <!-- mainview-body -->\r\n        <template>\r\n            <a v-link="{path: \'/security/user/edit\'}" class="am-btn am-btn-default am-btn-sm am-margin-bottom">\r\n                <i class="am-icon-plus"></i> 新增\r\n            </a>\r\n\r\n            <!-- data list -->\r\n            <table class="am-table am-table-hover am-table-well am-text-nowrap">\r\n                <thead>\r\n                    <tr>\r\n                        <th>用户名</th>\r\n                        <th>昵称</th>\r\n                        <th>邮箱</th>\r\n                        <th>创建时间</th>\r\n                        <th>状态</th>\r\n                        <th width="220px">操作</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for="item in items">\r\n                        <td>{{item.username}}</td>\r\n                        <td>{{item.nickname}}</td>\r\n                        <td>{{item.email}}</td>\r\n                        <td>{{item.createTime}}</td>\r\n                        <td><span class="am-badge" :class="[item.status == 1 ? \'am-badge-primary\' : \'am-badge-danger\']">{{item.status | dict \'user.status\'}}</span></td>\r\n                        <td>\r\n                            <!-- 行内按钮组 -->\r\n                            <div class="am-btn-group am-btn-group-xs">\r\n                                <a v-link="{path: \'/security/user/edit/\' + item.username}" class="am-btn am-btn-default">\r\n                                    <span class="am-text-primary"><i class="am-icon-pencil-square-o"></i> 编辑</span>\r\n                                </a>\r\n                                <a @click.prevent="remove(item.username)" class="am-btn am-btn-default">\r\n                                    <span class="am-text-danger"><i class="am-icon-trash-o"></i> 删除</span>\r\n                                </a>\r\n\r\n                                <am-dropdown>\r\n                                    <template slot="button">\r\n                                        <button class="am-btn am-btn-default am-btn-xs am-dropdown-toggle" data-am-dropdown-toggle="">\r\n                                            <span class="am-icon-cog"></span> <span class="am-icon-caret-down"></span>\r\n                                        </button>\r\n                                    </template>\r\n                                    <template slot="content">\r\n                                        <li>\r\n                                            <a v-link="{name: \'assign-role\', params: {username: item.username}}">\r\n                                                <i class="am-icon-group"></i>  分配角色\r\n                                            </a>\r\n                                        </li>\r\n                                        <li>\r\n                                            <a @click.prevent="resetPassword(item.username)">\r\n                                                <i class="am-icon-key"></i> 重置密码\r\n                                            </a>\r\n                                        </li>\r\n                                    </template>\r\n                                </am-dropdown>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <pager :page="$route.query.page" :total="totalCount" :route="$route"></pager>\r\n            <!--/ data list -->\r\n            \r\n        </template><!--/ mainview-body -->\r\n    </mainview><!--/ mainview -->\r\n</div>\r\n',data:function(){return{items:[],totalCount:0}},route:{data:function(t){r.fetch({page:this.$route.query.page}).then(function(n){t.next({items:n.data,totalCount:n.totalCount})})}},mixins:[t("mixins/reload")],methods:{remove:function(t){var n=this;e.confirm("确定删除?",function(){r.remove(t).then(function(){e.alert("删除成功.","success"),n.reload()})})},resetPassword:function(t){e.confirm("确定重置密码?",function(){r.resetPassword(t).then(function(){e.alert("重置密码成功.","success")})})}}})});