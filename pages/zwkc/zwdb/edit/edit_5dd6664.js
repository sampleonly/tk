define("pages/zwkc/zwdb/edit/edit",function(e,r,n){"use strict";var t=e("api"),a=e("msg");n.exports=Vue.extend({template:'\r\n<div>\r\n    <!-- mainview -->\r\n    <mainview :title="isNew ? \'新建\': \'编辑\'">\r\n        <breadcrumb slot="breadcrumb">\r\n            <breadcrumb-item link="/" class="am-icon-home">首页</breadcrumb-item>\r\n            <breadcrumb-item>政务快车</breadcrumb-item>\r\n            <breadcrumb-item link="/zwkc/zwdb">政务代办</breadcrumb-item>\r\n            <breadcrumb-item>{{isNew ? \'新建\': \'编辑\'}}</breadcrumb-item>\r\n        </breadcrumb>\r\n\r\n        <!-- mainview-body -->\r\n        <template>\r\n            <am-panel title="代办信息">\r\n                <div class="am-u-md-9 am-u-md-centered">\r\n                    <form class="am-form am-form-horizontal">\r\n                        <div class="am-form-group" v-if="model.id">\r\n                            <div class="am-u-md-2">\r\n                                <label class="am-form-label">ID</label>\r\n                            </div>\r\n                            <div class="am-u-md-10">\r\n                                <input type="text" v-model="model.id" class="am-input-sm" readonly>\r\n                            </div>\r\n                        </div>\r\n                        <!-- <div class="am-form-group" v-if="!isNew">\r\n                            <div class="am-u-md-2">\r\n                                <label class="am-form-label">状态</label>\r\n                            </div>\r\n                            <div class="am-u-md-10">\r\n                                <select v-model="model.state" class="am-input-sm">\r\n                                    <option value="{{$key}}" v-for="state in states">{{state}}</option>\r\n                                </select>\r\n                            </div>\r\n                        </div> -->\r\n                        <div class="am-form-group" v-if="!isNew">\r\n                            <div class="am-u-md-2">\r\n                                <label class="am-form-label">发布时间</label>\r\n                            </div>\r\n                            <div class="am-u-md-10">\r\n                                <input type="text" v-model="model.time" class="am-input-sm" readonly>\r\n                            </div>\r\n                        </div>\r\n                        <div class="am-form-group">\r\n                            <div class="am-u-md-2">\r\n                                <label class="am-form-label">标题</label>\r\n                            </div>\r\n                            <div class="am-u-md-10">\r\n                                <input type="text" v-model="model.title" class="am-input-sm" placeholder="标题">\r\n                            </div>\r\n                        </div>\r\n                        <div class="am-form-group">\r\n                            <div class="am-u-md-2">\r\n                                <label class="am-form-label">摘要</label>\r\n                            </div>\r\n                            <div class="am-u-md-10">\r\n                                <textarea rows="5" v-model="model.shortContent" placeholder="摘要" class="am-input-sm"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div class="am-form-group">\r\n                            <div class="am-u-md-2">\r\n                                <label class="am-form-label">内容</label>\r\n                            </div>\r\n                            <div class="am-u-md-10">\r\n                            <veditor :content.sync="model.content"></veditor>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="am-form-group">\r\n                            <div class="am-u-md-10 am-u-md-offset-2">\r\n                                <form-submit @submit="submit"></form-submit>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </am-panel>\r\n        </template><!--/ mainview-body -->\r\n    </mainview><!--/ mainview -->\r\n</div>\r\n',mixins:[e("mixins/isNew")],data:function(){return{model:{id:null,title:null,shortContent:null,content:null}}},methods:{submit:function(){var e=this;this.isNew?t.zwkc.zwdb.create({title:this.model.title,shortContent:this.model.shortContent,content:this.model.content}).then(function(){a.alert("保存成功","success",function(){e.$route.router.go("/zwkc/zwdb")})}):t.zwkc.zwdb.update({id:this.model.id,title:this.model.title,shortContent:this.model.shortContent,content:this.model.content}).then(function(){a.alert("保存成功","success",function(){e.$route.router.go("/zwkc/zwdb")})})}},route:{data:function(){var e=this,r=this.$route.params.id;this.isNew||t.zwkc.zwdb.get(r).then(function(r){e.model=r.data})}}})});