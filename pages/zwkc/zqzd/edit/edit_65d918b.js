define("pages/zwkc/zqzd/edit/edit",function(n,t,a){"use strict";var r=n("zwkc/service").zqzd,e=n("msg");a.exports=Vue.extend({template:'\r\n\r\n<div class="crud zwkc-zqzd-edit">\r\n    \r\n    <div class="crud_head">\r\n        <h1 class="crud_title">政务快车 / 政企直达 / 编辑</h1>\r\n    </div>\r\n\r\n    <section class="am-panel am-panel-c">\r\n        <div class="am-panel-bd">\r\n\r\n            <form class="am-form">\r\n                <input type="hidden" name="id" value="{{id}}">\r\n                <div class="am-g am-margin-top">\r\n                    <div class="am-u-md-2 am-text-right">\r\n                        标题\r\n                    </div>\r\n                    <div class="am-u-md-6 am-u-end">\r\n                        <input type="text" name="title" v-model="formData.title" class="am-input-sm" placeholder="标题">\r\n                    </div>\r\n                </div>\r\n                <div class="am-g am-margin-top">\r\n                    <div class="am-u-md-2 am-text-right">\r\n                        摘要\r\n                    </div>\r\n                    <div class="am-u-md-6 am-u-end">\r\n                        <textarea name="shortContent" rows="5" v-model="formData.shortContent" placeholder="摘要" class="am-input-sm"></textarea>\r\n                    </div>\r\n                </div>\r\n                <div class="am-g am-margin-top">\r\n                    <div class="am-u-md-2 am-text-right">\r\n                        类型\r\n                    </div>\r\n                    <div class="am-u-md-2 am-u-end">\r\n                        <select name="type" v-model="formData.type" class="am-input-sm">\r\n                            <option value="{{$index + 1}}" v-if="$index > 0" v-for="type in types" :selected="$index == 1">{{type}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class="am-g am-margin-top-sm">\r\n                    <div class="am-u-md-2 am-text-right admin-form-text">\r\n                        内容\r\n                    </div>\r\n                    <div class="am-u-md-6 am-u-end">\r\n                    <veditor name="content" :content.sync="formData.content"></veditor>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n\r\n            <div class="am-g am-margin-top">\r\n                <div class="am-u-md-6 am-u-md-offset-2">\r\n                    <button @click="submit" class="am-btn am-btn-primary am-btn">保存</button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </section>\r\n</div>\r\n',data:function(){return{formData:{id:null,title:null,shortContent:null,content:null,type:null},types:r.getTypes()}},methods:{submit:function(){var n=this;this.formData.id?r.update(this.formData).then(function(){e.alert("保存成功","success",function(){n.$route.router.go("/zwkc/zqzd")})}):r.publish(this.formData).then(function(){e.alert("保存成功","success",function(){n.$route.router.go("/zwkc/zqzd")})})}},route:{data:function(n){var t=this.$route.params.id;t&&r.get(t).then(function(t){n.next({formData:t})})}}})});