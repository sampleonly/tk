define("pages/ckzj/cyfd/detail/detail",function(n,a,r){"use strict";var i=n("api"),t=n("api/dict"),m=n("msg");r.exports=Vue.extend({template:'\r\n<div>\r\n    <!-- mainview -->\r\n    <mainview title="导师详情">\r\n        <breadcrumb slot="breadcrumb">\r\n            <breadcrumb-item link="/" class="am-icon-home">首页</breadcrumb-item>\r\n            <breadcrumb-item>创客之家</breadcrumb-item>\r\n            <breadcrumb-item link="/ckzj/cyfd">创业辅导</breadcrumb-item>\r\n            <breadcrumb-item>导师详情</breadcrumb-item>\r\n        </breadcrumb>\r\n\r\n        <!-- mainview-body -->\r\n        <template>\r\n\r\n            <div class="am-g am-g-c">\r\n                <div class="am-u-md-12">\r\n                    <!-- am-panel -->\r\n                    <am-panel title="导师基本信息">\r\n                        <div>\r\n                            \r\n                            <div class="am-g am-margin-top" v-if="model.id">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>ID</b>\r\n                                </div>\r\n                                <div class="am-u-md-4 am-u-end">\r\n                                    {{model.id}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>标签</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    <span class="am-badge am-badge-warning am-radius am-margin-right-xs" v-for="item in model.tags">\r\n                                        {{item.tag}}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <!-- \r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    照片URL\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    <input type="text" v-model="model.title" class="am-input-sm" placeholder="标题">\r\n                                </div>\r\n                            </div>\r\n                             -->\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>姓名</b>\r\n                                </div>\r\n                                <div class="am-u-md-2 am-u-end">\r\n                                    {{model.name}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>性别</b>\r\n                                </div>\r\n                                <div class="am-u-md-2 am-u-end">\r\n                                    {{model.gender | dict \'gender\'}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>生日</b>\r\n                                </div>\r\n                                <div class="am-u-md-2 am-u-end">\r\n                                    {{model.birth}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>居住地</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.address}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>学历</b>\r\n                                </div>\r\n                                <div class="am-u-md-2 am-u-end">\r\n                                    {{model.education | dict \'education\'}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>毕业院校</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.school}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>单位</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.department}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>职称</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.title}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>辅导条件</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.requirement}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>报酬方式</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.reward}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>导师寄语</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.wishes}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>联系方式</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.contact}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>推荐语</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.recommend}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>发布时间</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.time}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>辅导企业数量</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{model.number}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-g am-margin-top">\r\n                                <div class="am-u-md-2 am-text-right">\r\n                                    <b>详情介绍</b>\r\n                                </div>\r\n                                <div class="am-u-md-6 am-u-end">\r\n                                    {{{model.detail}}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </am-panel>\r\n                    <!-- am-panel -->\r\n                </div>\r\n\r\n                <div class="am-u-md-6">\r\n                    <am-panel title="咨询信息">\r\n                        <ul class="am-list am-list-static">\r\n                            <li v-for="consult in consults" track-by="id">\r\n                                <span class="am-badge am-badge-danger cursor-pointer" @click="removeConsult(consult.id)">\r\n                                    <i class="am-icon-remove am-icon-fw"></i>\r\n                                </span>\r\n                                <span class="am-badge am-badge-warning cursor-pointer" @click="editConsult(consult.id)">\r\n                                    <i class="am-icon-edit am-icon-fw"></i>\r\n                                </span>\r\n                                \r\n                                <div class="am-text-truncate">{{consult.title}}</div>\r\n\r\n                                <small>发表于 {{consult.time}}</small>\r\n                            </li>\r\n                        </ul>\r\n                        <pager :total="consultsCount" @paginate.pager="onConsultPaginate" v-ref:consult-pager></pager>\r\n                    </am-panel>\r\n                </div>\r\n                <div class="am-u-md-6">\r\n                    <!-- am-panel -->\r\n                    <am-panel title="评价信息">\r\n                        <ul class="am-list am-list-static">\r\n                            <li v-for="evaluation in evaluations" track-by="id">\r\n                                <span class="am-badge am-badge-danger cursor-pointer" @click="removeEvaluation(evaluation.id)">\r\n                                    <i class="am-icon-remove am-icon-fw"></i>\r\n                                </span>\r\n                                \r\n                                <div class="am-text-truncate">{{evaluation.content}}</div>\r\n                                \r\n                                <small>{{evaluation.user}} 发表于 {{evaluation.time}}</small>\r\n                            </li>\r\n                        </ul>\r\n                        <pager :total="evaluationsCount" @paginate.pager="onEvaluationPaginate" v-ref:evaluation-pager></pager>\r\n                    </am-panel>\r\n                </div>\r\n            </div>\r\n            \r\n        </template><!--/ mainview-body -->\r\n    </mainview><!--/ mainview -->\r\n</div>\r\n',data:function(){return{model:{id:null,tags:[],picUrl:null,name:null,gender:1,birth:null,address:null,education:0,school:null,department:null,title:null,detail:null,requirement:null,reward:null,wishes:null,contact:null,recommend:null,time:null,count:null,number:null},genders:t.get("gender"),educations:t.get("education"),hireOptions:t.get("hireOptions"),consults:[],consultsCount:0,evaluations:[],evaluationsCount:0}},methods:{fetchConsults:function(n){var a=this,r=this.$refs.consultPager.page||1;i.ckzj.mentor.fetchConsults(n,{page:r}).then(function(n){a.consults=n.data,a.consultsCount=n.totalCount})},fetchEvaluations:function(n){var a=this,r=this.$refs.evaluationPager.page||1;i.ckzj.mentor.fetchEvaluations(n,{page:r}).then(function(n){a.evaluations=n.data,a.evaluationsCount=n.totalCount})},onConsultPaginate:function(){this.fetchConsults(this.model.id)},onEvaluationPaginate:function(){this.fetchEvaluations(this.model.id)},removeConsult:function(n){var a=this;m.confirm("确定删除?",function(){i.ckzj.mentor.removeConsult(n).then(function(){m.alert("删除成功.","success"),a.fetchConsults(a.model.id)})})},removeEvaluation:function(n){var a=this;m.confirm("确定删除?",function(){i.ckzj.mentor.removeEvaluation(n).then(function(){m.alert("删除成功.","success"),a.fetchEvaluations(a.model.id)})})},editConsult:function(n){this.$route.router.go({name:"ckzj-cyfd-consult",params:{id:n}})}},route:{data:function(){var n=this,a=this.$route.params.id;i.ckzj.mentor.get(a).then(function(a){n.model=a.data}),this.fetchConsults(a),this.fetchEvaluations(a)}}})});