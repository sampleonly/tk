define("pages/ckzj/cyfd/edit/edit",function(r,a,e){"use strict";var n=r("api"),l=r("api/dict"),d=r("msg");e.exports=Vue.extend({template:'\r\n<div>\r\n    <!-- mainview -->\r\n    <mainview :title="isNew ? \'新建\' : \'编辑\'">\r\n        <breadcrumb slot="breadcrumb">\r\n            <breadcrumb-item link="/" class="am-icon-home">首页</breadcrumb-item>\r\n            <breadcrumb-item>创客之家</breadcrumb-item>\r\n            <breadcrumb-item link="/ckzj/cyfd">创业辅导</breadcrumb-item>\r\n            <breadcrumb-item>{{isNew ? \'新建\' : \'编辑\'}}</breadcrumb-item>\r\n        </breadcrumb>\r\n\r\n        <!-- mainview-body -->\r\n        <template>\r\n            <am-panel title="导师信息">\r\n                <div class="am-g">\r\n                    <div class="am-u-md-9 am-u-md-centered">\r\n                        <form class="am-form am-form-horizontal">\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">标签</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <v-select2 :options="tagOptions" :model.sync="model.tags"></v-select2>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">照片</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <avatar :img.sync="model.picUrl"></avatar>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">姓名</label>\r\n                                </div>\r\n                                <div class="am-u-md-3 am-u-end">\r\n                                    <input type="text" v-model="model.name" placeholder="姓名">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">性别</label>\r\n                                </div>\r\n                                <div class="am-u-md-3 am-u-end">\r\n                                    <select v-model="model.gender">\r\n                                        <option v-for="item in genders" value="{{$key}}">{{item}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">生日</label>\r\n                                </div>\r\n                                <div class="am-u-md-3 am-u-end">\r\n                                    <input type="text" v-model="model.birth" placeholder="生日" v-datepicker>\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">居住地</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" v-model="model.address" placeholder="居住地">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">学历</label>\r\n                                </div>\r\n                                <div class="am-u-md-3 am-u-end">\r\n                                    <select v-model="model.education">\r\n                                        <option v-for="item in educations" value="{{$key}}">{{item}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">毕业院校</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" v-model="model.school" placeholder="毕业院校">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">单位</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" v-model="model.department" placeholder="单位">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">职称</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" v-model="model.title" placeholder="职称">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">辅导条件</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" v-model="model.requirement" placeholder="辅导条件">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">报酬方式</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" v-model="model.reward" placeholder="报酬方式">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">导师寄语</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" v-model="model.wishes" placeholder="导师寄语">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">联系方式</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" v-model="model.contact" placeholder="联系方式">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">推荐语</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" v-model="model.recommend" placeholder="推荐语">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">辅导企业数量</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" v-model="model.number" placeholder="辅导企业数量">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">详情介绍</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <veditor :content.sync="model.detail"></veditor>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-10 am-u-md-offset-2">\r\n                                    <form-submit @submit="submit"></form-submit>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </am-panel>\r\n        </template><!--/ mainview-body -->\r\n    </mainview><!--/ mainview -->\r\n</div>\r\n',mixins:[r("mixins/isNew")],data:function(){return{model:{id:null,tags:[],picUrl:null,name:null,gender:1,birth:null,address:null,education:0,school:null,department:null,title:null,detail:null,requirement:null,reward:null,wishes:null,contact:null,recommend:null,time:null,count:null,number:null},tags:[],tagValues:[],genders:l.get("gender"),educations:l.get("education"),hireOptions:l.get("hireOptions")}},computed:{tagOptions:function(){return $.map(this.tags,function(r){return{text:r.tag,value:r.id}})}},methods:{submit:function(){var r=this;this.isNew?n.ckzj.mentor.create($.extend({},this.model,{tags:this.model.tags.join(",")})).then(function(){d.alert("保存成功","success",function(){r.$route.router.go("/ckzj/cyfd")})}):n.ckzj.mentor.update($.extend({},this.model,{tags:this.model.tags.join(",")})).then(function(){d.alert("保存成功","success",function(){r.$route.router.go("/ckzj/cyfd")})})}},route:{data:function(){var r=this,a=this.$route.params.id;n.ckzj.mentor.fetchTags().then(function(a){r.tags=a.data}),this.isNew||n.ckzj.mentor.get(a).then(function(a){var e=$.extend({},a.data,{tags:$.map(a.data.tags,function(r){return r.id})});r.model=e})}},components:{avatar:r("components/avatar/avatar")}})});