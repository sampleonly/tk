define("pages/rcfw/policy/edit/edit",function(r,e,n){"use strict";var a=r("api").rcfw.policy,i=r("api/dict"),m=r("msg");n.exports=Vue.extend({editor:null,template:'\r\n<div>\r\n    <!-- mainview -->\r\n    <mainview :title="isNew ? \'新建\': \'编辑\'">\r\n        <breadcrumb slot="breadcrumb">\r\n            <breadcrumb-item link="/" class="am-icon-home">首页</breadcrumb-item>\r\n            <breadcrumb-item>人才服务</breadcrumb-item>\r\n            <breadcrumb-item link="/rcfw/policy">政策</breadcrumb-item>\r\n            <breadcrumb-item>{{isNew ? \'新建\': \'编辑\'}}</breadcrumb-item>\r\n        </breadcrumb>\r\n\r\n        <!-- mainview-body -->\r\n        <template>\r\n            <am-panel title="政策信息">\r\n                <div class="am-g">\r\n                    <div class="am-u-md-10 am-u-md-offset-1">\r\n                        <form class="am-form am-form-horizontal">\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">标题</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" name="title" v-model="model.title" class="am-input-sm" placeholder="标题">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">摘要</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <textarea name="shortContent" rows="5" v-model="model.shortContent" placeholder="摘要" class="am-input-sm"></textarea>\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">原文链接</label>\r\n                                </div>\r\n                                <div class="am-u-md-10">\r\n                                    <input type="text" name="link" v-model="model.link" class="am-input-sm" placeholder="原文链接">\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-2">\r\n                                    <label class="am-form-label">类型</label>\r\n                                </div>\r\n                                <div class="am-u-md-3 am-u-end">\r\n                                    <select name="type" v-model="model.type" class="am-input-sm">\r\n                                        <option value="{{$key}}" v-for="type in types">{{type}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class="am-form-group">\r\n                                <div class="am-u-md-10 am-u-md-offset-2">\r\n                                    <form-submit @submit="submit"></form-submit>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </am-panel>\r\n        </template><!--/ mainview-body -->\r\n    </mainview><!--/ mainview -->\r\n</div>\r\n',mixins:[r("mixins/isNew")],data:function(){return{model:{id:null,title:null,shortContent:null,link:null,type:1},types:i.get("rcfw.policy.type")}},methods:{submit:function(){var r=this;this.isNew?a.create(this.model).then(function(){m.alert("保存成功","success",function(){r.$route.router.go("/rcfw/policy")})}):a.update(this.model).then(function(){m.alert("保存成功","success",function(){r.$route.router.go("/rcfw/policy")})})}},route:{data:function(r){this.isNew||a.get(this.$route.params.id).then(function(e){r.next({model:e.data})})}}})});