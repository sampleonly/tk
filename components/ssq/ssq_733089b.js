define("components/ssq/ssq",function(i,t,e){"use strict";function n(i){return{provinceCode:i.slice(0,2)+"0000",cityCode:i.slice(0,4)+"00",districtCode:i}}var s=i("api"),c={getProvinces:function(){return s.ssq.fetchProvinces().then(function(i){return i.data})},getCities:function(i){return s.ssq.fetchCities(i).then(function(i){return i.data})},getDistricts:function(i){return s.ssq.fetchDistricts(i).then(function(i){return i.data})}};e.exports={template:'\r\n<div class="ssq">\r\n    <div class="ssq_item ssq_province">\r\n        <select v-model="provinceCode" :disabled="!provinces || provinces.length == 0" @change="onProvinceChange($event)">\r\n            <option value="">选择省份</option>\r\n            <option value="{{item.code}}" v-for="item in provinces">{{item.name}}</option>\r\n        </select>\r\n    </div>\r\n    <div class="ssq_item ssq_city">\r\n        <select v-model="cityCode" :disabled="!cities || cities.length == 0" @change="onCityChange($event)">\r\n            <option value="">选择城市</option>\r\n            <option value="{{item.code}}" v-for="item in cities">{{item.name}}</option>\r\n        </select>\r\n    </div>\r\n    <div class="ssq_item ssq_district">\r\n        <select v-model="districtCode" :disabled="!districts || districts.length == 0">\r\n            <option value="">选择区域</option>\r\n            <option value="{{item.code}}" v-for="item in districts">{{item.name}}</option>\r\n        </select>\r\n    </div>\r\n</div>\r\n',data:function(){return{provinceCode:"",cityCode:"",provinces:[],cities:[],districts:[]}},props:{districtCode:{"default":"",coerce:function(i){return i||""}}},watch:{districtCode:function(i){if(i&&!this.cityCode){var t=this,e=n(this.districtCode);this.districtCode="",$.when(c.getProvinces(),c.getCities(e.provinceCode),c.getDistricts(e.cityCode)).then(function(i,n,s){t.provinces=i,t.provinceCode=e.provinceCode,t.cities=n,t.cityCode=e.cityCode,t.districts=s,t.districtCode=e.districtCode})}}},methods:{clearCities:function(){this.cityCode="",this.cities=[]},clearDistricts:function(){this.districtCode="",this.districts=[]},onProvinceChange:function(i){var t=i.target.value;if(this.clearCities(),this.clearDistricts(),t){var e=this;c.getCities(t).then(function(i){e.cities=i})}},onCityChange:function(i){var t=i.target.value;if(this.clearDistricts(),t){var e=this;c.getDistricts(t).then(function(i){e.districts=i})}}},created:function(){var i=this;if(this.districtCode){var t=n(this.districtCode);this.districtCode="",$.when(c.getProvinces(),c.getCities(t.provinceCode),c.getDistricts(t.cityCode)).then(function(e,n,s){i.provinces=e,i.provinceCode=t.provinceCode,i.cities=n,i.cityCode=t.cityCode,i.districts=s,i.districtCode=t.districtCode})}else c.getProvinces().then(function(t){i.provinces=t})}}});